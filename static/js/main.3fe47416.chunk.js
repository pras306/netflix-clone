(this["webpackJsonpnetflix-clone"]=this["webpackJsonpnetflix-clone"]||[]).push([[0],{24:function(e,t,n){},32:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(9),i=n.n(c),o=(n(24),n(11)),l=n.n(o),s=(n(32),"https://api-proxy-server.up.railway.app/api/v1/movies"),u="https://api-proxy-server.up.railway.app/api/v1/videos/search",d=[{title:"Netflix Originals",fetchURL:"/fetchNetflixOriginals"},{title:"Trending",fetchURL:"/fetchTrending"},{title:"Top Rated",fetchURL:"/fetchTopRated"},{title:"Action Movies",fetchURL:"/fetchActionMovies"},{title:"Comedy Movies",fetchURL:"/fetchComedyMovies"},{title:"Horror Movies",fetchURL:"/fetchHorrorMovies"},{title:"Romance Movies",fetchURL:"/fetchRomanceMovies"},{title:"Documentaries",fetchURL:"/fetchDocumentaries"}],f=n(3),v=n.n(f),h=n(5),b=n(4),p=n(6),j=n.n(p),m=(n(52),n(53),n(0)),O=function(e){var t=e.open,n=e.onClose,r=e.children;return t?i.a.createPortal(Object(m.jsxs)("div",{className:"modal",children:[Object(m.jsx)("div",{className:"modal__icon",onClick:n,children:"X"}),Object(m.jsx)("div",{className:"modal__content",children:r})]}),document.querySelector("#modal")):null},x=function(e){var t=e.fetchURL,n=Object(r.useState)([]),a=Object(b.a)(n,2),c=a[0],i=a[1],o=Object(r.useState)(""),l=Object(b.a)(o,2),s=l[0],d=l[1],f=Object(r.useState)(null),p=Object(b.a)(f,2),x=p[0],g=p[1],_=Object(r.useState)(!1),w=Object(b.a)(_,2),y=w[0],R=w[1];Object(r.useEffect)((function(){function e(){return(e=Object(h.a)(v.a.mark((function e(){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get(t);case 2:n=e.sent,r=n.data[Math.floor(Math.random()*(n.data.length-1))],i(r),d("url(https://image.tmdb.org/t/p/original/".concat(null===r||void 0===r?void 0:r.backdrop_path,")"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);var k=function(){var e=Object(h.a)(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat((null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.original_name)||(null===t||void 0===t?void 0:t.title)," trailer"),e.prev=1,e.next=4,j.a.get(u+"/".concat(n));case 4:if(!((r=e.sent).data.length<=0)){e.next=8;break}return alert("Unable to fetch trailer of the movie you requested."),e.abrupt("return");case 8:g(r.data[0]),R(!0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),alert("Unable to fetch trailer of the movie you requested.");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)("header",{className:"banner",style:{backgroundSize:"contain",backgroundImage:"".concat(s),backgroundPosition:"center center"},children:Object(m.jsxs)("div",{className:"banner__contents",children:[Object(m.jsx)("h1",{children:(null===c||void 0===c?void 0:c.name)||(null===c||void 0===c?void 0:c.original_name)||(null===c||void 0===c?void 0:c.title)}),Object(m.jsxs)("div",{className:"banner__buttons",children:[Object(m.jsx)("button",{className:"banner__button",onClick:function(){return k(c)},children:"Play Trailer"}),x&&Object(m.jsx)(O,{open:y,video:x,onClose:function(){return R(!1)},children:Object(m.jsx)("iframe",{title:"player",src:"https://www.youtube.com/embed/".concat(x.id.videoId,"?autoplay=1"),frameBorder:"0"})})]}),Object(m.jsx)("div",{className:"banner__description",children:function(e,t){var n;if(void 0===e||(null===e||void 0===e?void 0:e.length)<=0)return null;if((null===e||void 0===e?void 0:e.length)<t)return e;var r=t+(null===e||void 0===e||null===(n=e.substring(t))||void 0===n?void 0:n.indexOf(" "));return(null===e||void 0===e?void 0:e.substring(0,r))+"...."}(c.overview,200)})]})})},g=(n(55),function(e){var t=e.title,n=e.fetchURL,a=e.isLargeRow,c=Object(r.useState)([]),i=Object(b.a)(c,2),o=i[0],l=i[1],s=Object(r.useState)(null),d=Object(b.a)(s,2),f=d[0],p=d[1],x=Object(r.useState)(!1),g=Object(b.a)(x,2),_=g[0],w=g[1],y=Object(r.useRef)(null);Object(r.useEffect)((function(){function e(){return(e=Object(h.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get(n);case 2:t=e.sent,l(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]);var R=function(e){y.current.scrollLeft+=e},k=function(){var e=Object(h.a)(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(""),n="".concat((null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.original_name)||(null===t||void 0===t?void 0:t.title)," trailer"),e.prev=2,e.next=5,j.a.get(u+"/".concat(n));case 5:if(!((r=e.sent).data.length<=0)){e.next=9;break}return alert("Unable to fetch trailer of the movie you requested."),e.abrupt("return");case 9:p(r.data[0]),w(!0),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),alert("Unable to fetch trailer of the movie you requested.");case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),N=o?o.map((function(e){return Object(m.jsx)("img",{className:"row__poster ".concat(a&&"row__posterLarge"),src:"".concat("https://image.tmdb.org/t/p/original/").concat(a?null===e||void 0===e?void 0:e.poster_path:(null===e||void 0===e?void 0:e.backdrop_path)?e.backdrop_path:e.poster_path),alt:(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.original_name)||(null===e||void 0===e?void 0:e.title),onClick:function(){return k(e)}},e.id)})):null;return Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("h2",{children:t}),Object(m.jsxs)("div",{className:"row__posters",ref:y,children:[Object(m.jsx)("div",{className:"row__arrow",children:Object(m.jsx)("i",{className:"row__leftarrow",onClick:function(){return R(-1e3)}})}),N,Object(m.jsx)("div",{className:"row__arrow",children:Object(m.jsx)("i",{className:"row__rightarrow",onClick:function(){return R(1e3)}})})]}),f&&Object(m.jsx)(O,{open:_,onClose:function(){return w(!1)},children:Object(m.jsx)("iframe",{title:"player",src:"https://www.youtube.com/embed/".concat(f.id.videoId,"?autoplay=1"),frameBorder:"0"})})]})}),_=function(){return Object(m.jsxs)("div",{className:"app",children:[Object(m.jsx)(x,{fetchURL:s+"/fetchNetflixOriginals"}),d.map((function(e,t){return e.title.includes("Netflix Originals")?Object(m.jsx)(l.a,{height:500,children:Object(m.jsx)(g,{title:e.title,fetchURL:s+e.fetchURL,isLargeRow:!0})},t):Object(m.jsx)(l.a,{height:500,offset:[-100,0],children:Object(m.jsx)(g,{title:e.title,fetchURL:s+e.fetchURL})},t)}))]})};i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(_,{})}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.3fe47416.chunk.js.map